(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const h of e)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const h={};return e.integrity&&(h.integrity=e.integrity),e.referrerPolicy&&(h.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?h.credentials="include":e.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(e){if(e.ep)return;e.ep=!0;const h=i(e);fetch(e.href,h)}})();function a(l,t){return Math.random()*(t-l)+l}function T(l,t){return Math.floor(a(l,t+1))}function C(l,t,i,s){return Math.sqrt((i-l)**2+(s-t)**2)}function v(l,t,i,s,e,h){return C(l,t,s,e)<i+h}function S(l){return l*(Math.PI/180)}function k(l,t=10){const i=[],s=Math.PI*2/t;for(let e=0;e<t;e++){const h=e*s,o=a(.7,1.3),r=l*o;i.push({x:Math.cos(h)*r,y:Math.sin(h)*r})}return i}function y(l){return l[Math.floor(Math.random()*l.length)]}class P{constructor(t,i){this.x=t,this.y=i,this.velocityX=0,this.velocityY=0,this.angle=-90,this.radius=20,this.rotationSpeed=250,this.thrustPower=300,this.friction=.98,this.maxSpeed=400,this.maxHealth=100,this.health=this.maxHealth,this.isThrusting=!1,this.invulnerable=!1,this.invulnerableTimer=0,this.invulnerableDuration=2,this.thrustFlicker=0}update(t,i,s,e){if((i.ArrowLeft||i.KeyA)&&(this.angle-=this.rotationSpeed*t),(i.ArrowRight||i.KeyD)&&(this.angle+=this.rotationSpeed*t),this.isThrusting=i.ArrowUp||i.KeyW,this.isThrusting){const r=S(this.angle);this.velocityX+=Math.cos(r)*this.thrustPower*t,this.velocityY+=Math.sin(r)*this.thrustPower*t}this.velocityX*=this.friction,this.velocityY*=this.friction;const h=Math.sqrt(this.velocityX**2+this.velocityY**2);if(h>this.maxSpeed){const r=this.maxSpeed/h;this.velocityX*=r,this.velocityY*=r}this.x+=this.velocityX*t,this.y+=this.velocityY*t;const o=this.radius;this.x<o&&(this.x=o,this.velocityX*=-.5),this.x>s-o&&(this.x=s-o,this.velocityX*=-.5),this.y<o&&(this.y=o,this.velocityY*=-.5),this.y>e-o&&(this.y=e-o,this.velocityY*=-.5),this.invulnerable&&(this.invulnerableTimer-=t,this.invulnerableTimer<=0&&(this.invulnerable=!1)),this.thrustFlicker+=t*20}takeDamage(t){return this.invulnerable?!1:(this.health-=t,this.invulnerable=!0,this.invulnerableTimer=this.invulnerableDuration,!0)}reset(t,i){this.x=t,this.y=i,this.velocityX=0,this.velocityY=0,this.angle=-90,this.health=this.maxHealth,this.invulnerable=!1,this.invulnerableTimer=0}draw(t){if(t.save(),t.translate(this.x,this.y),t.rotate(S(this.angle+90)),this.invulnerable&&Math.floor(this.invulnerableTimer*10)%2===0&&(t.globalAlpha=.3),this.isThrusting){const s=Math.sin(this.thrustFlicker)*.3+.7,e=15+Math.sin(this.thrustFlicker*2)*8;t.beginPath(),t.moveTo(-8,12),t.lineTo(0,12+e*s),t.lineTo(8,12),t.closePath();const h=t.createLinearGradient(0,12,0,12+e);h.addColorStop(0,"#ff6b35"),h.addColorStop(.5,"#f7c331"),h.addColorStop(1,"rgba(255, 200, 100, 0)"),t.fillStyle=h,t.fill()}t.beginPath(),t.moveTo(0,-this.radius),t.lineTo(-15,this.radius-5),t.lineTo(-5,10),t.lineTo(5,10),t.lineTo(15,this.radius-5),t.closePath();const i=t.createLinearGradient(0,-this.radius,0,this.radius);i.addColorStop(0,"#4ecdc4"),i.addColorStop(1,"#2a9d8f"),t.fillStyle=i,t.fill(),t.strokeStyle="#1a535c",t.lineWidth=2,t.stroke(),t.beginPath(),t.arc(0,-5,5,0,Math.PI*2),t.fillStyle="#e9f5f5",t.fill(),t.strokeStyle="#1a535c",t.lineWidth=1,t.stroke(),t.restore()}}const w={XLARGE:{name:"xlarge",radius:100,minSpeed:30,maxSpeed:60,hp:5,points:200,damage:35,spawns:"LARGE",spawnCount:2},LARGE:{name:"large",radius:50,minSpeed:40,maxSpeed:80,hp:3,points:100,damage:25,spawns:"MEDIUM",spawnCount:2},MEDIUM:{name:"medium",radius:30,minSpeed:60,maxSpeed:120,hp:2,points:50,damage:15,spawns:"SMALL",spawnCount:2},SMALL:{name:"small",radius:15,minSpeed:80,maxSpeed:150,hp:1,points:25,damage:10,spawns:null,spawnCount:0}},I=[{fill:"#6b705c",stroke:"#3a3f35"},{fill:"#a5a58d",stroke:"#6b6b54"},{fill:"#8b8b73",stroke:"#5a5a4a"},{fill:"#7f7f6a",stroke:"#4f4f42"},{fill:"#9a8c73",stroke:"#6a5c43"}];class b{constructor(t,i,s,e=null){this.x=t,this.y=i,this.sizeType=s,this.config=w[s],this.radius=this.config.radius,this.hp=this.config.hp;const h=a(this.config.minSpeed,this.config.maxSpeed),o=a(0,Math.PI*2);e?(this.velocityX=e.x*.5+Math.cos(o)*h,this.velocityY=e.y*.5+Math.sin(o)*h):(this.velocityX=Math.cos(o)*h,this.velocityY=Math.sin(o)*h),this.rotation=a(0,Math.PI*2),this.rotationSpeed=a(-2,2);const r=Math.floor(a(8,12));this.vertices=k(this.radius,r),this.color=y(I),this.destroyed=!1}update(t,i,s){this.x+=this.velocityX*t,this.y+=this.velocityY*t,this.rotation+=this.rotationSpeed*t,this.x-this.radius<0&&(this.x=this.radius,this.velocityX*=-1),this.x+this.radius>i&&(this.x=i-this.radius,this.velocityX*=-1),this.y-this.radius<0&&(this.y=this.radius,this.velocityY*=-1),this.y+this.radius>s&&(this.y=s-this.radius,this.velocityY*=-1)}hit(){return this.hp--,this.hp<=0?(this.destroyed=!0,!0):!1}getFragments(){if(!this.config.spawns)return[];const t=[],i=this.config.spawns;for(let s=0;s<this.config.spawnCount;s++){const e=a(0,Math.PI*2),h=this.radius*.3,o=this.x+Math.cos(e)*h,r=this.y+Math.sin(e)*h;t.push(new b(o,r,i,{x:this.velocityX,y:this.velocityY}))}return t}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.beginPath(),t.moveTo(this.vertices[0].x+4,this.vertices[0].y+4);for(let s=1;s<this.vertices.length;s++)t.lineTo(this.vertices[s].x+4,this.vertices[s].y+4);t.closePath(),t.fillStyle="rgba(0, 0, 0, 0.2)",t.fill(),t.beginPath(),t.moveTo(this.vertices[0].x,this.vertices[0].y);for(let s=1;s<this.vertices.length;s++)t.lineTo(this.vertices[s].x,this.vertices[s].y);t.closePath();const i=t.createRadialGradient(-this.radius*.3,-this.radius*.3,0,0,0,this.radius);if(i.addColorStop(0,this.color.fill),i.addColorStop(1,this.color.stroke),t.fillStyle=i,t.fill(),t.strokeStyle=this.color.stroke,t.lineWidth=2,t.stroke(),this.hp<this.config.hp){t.beginPath(),t.moveTo(this.vertices[0].x,this.vertices[0].y);for(let s=1;s<this.vertices.length;s++)t.lineTo(this.vertices[s].x,this.vertices[s].y);t.closePath(),t.fillStyle=`rgba(255, 255, 255, ${.1*(this.config.hp-this.hp)})`,t.fill()}t.restore()}}function A(l,t,i){const s=Math.floor(Math.random()*4),e=w[i];let h,o;switch(s){case 0:h=a(e.radius,l-e.radius),o=e.radius;break;case 1:h=l-e.radius,o=a(e.radius,t-e.radius);break;case 2:h=a(e.radius,l-e.radius),o=t-e.radius;break;case 3:h=e.radius,o=a(e.radius,t-e.radius);break}return new b(h,o,i)}class m{constructor(t,i,s){this.x=t,this.y=i,this.speed=600,this.radius=4;const e=S(s);this.velocityX=Math.cos(e)*this.speed,this.velocityY=Math.sin(e)*this.speed,this.destroyed=!1,this.trail=[],this.maxTrailLength=8}update(t,i,s){this.trail.unshift({x:this.x,y:this.y}),this.trail.length>this.maxTrailLength&&this.trail.pop(),this.x+=this.velocityX*t,this.y+=this.velocityY*t,(this.x<0||this.x>i||this.y<0||this.y>s)&&(this.destroyed=!0)}draw(t){for(let s=0;s<this.trail.length;s++){const e=1-s/this.trail.length,h=this.radius*(1-s/this.trail.length*.5);t.beginPath(),t.arc(this.trail[s].x,this.trail[s].y,h,0,Math.PI*2),t.fillStyle=`rgba(255, 170, 50, ${e*.5})`,t.fill()}const i=t.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius*3);i.addColorStop(0,"rgba(255, 200, 100, 0.8)"),i.addColorStop(.5,"rgba(255, 150, 50, 0.3)"),i.addColorStop(1,"rgba(255, 100, 50, 0)"),t.beginPath(),t.arc(this.x,this.y,this.radius*3,0,Math.PI*2),t.fillStyle=i,t.fill(),t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.fillStyle="#fff5e6",t.fill()}}class p{constructor(t,i,s,e,h,o,r){this.x=t,this.y=i,this.color=s,this.size=e,this.initialSize=e,this.lifetime=r,this.maxLifetime=r,this.velocityX=Math.cos(o)*h,this.velocityY=Math.sin(o)*h,this.friction=.98,this.destroyed=!1}update(t){if(this.lifetime-=t,this.lifetime<=0){this.destroyed=!0;return}this.x+=this.velocityX*t,this.y+=this.velocityY*t,this.velocityX*=this.friction,this.velocityY*=this.friction;const i=this.lifetime/this.maxLifetime;this.size=this.initialSize*i}draw(t){const i=this.lifetime/this.maxLifetime;t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle=this.color.replace("1)",`${i})`),t.fill()}}class L{constructor(t,i,s,e){this.x=t,this.y=i,this.text=s,this.color=e,this.lifetime=1.5,this.maxLifetime=1.5,this.velocityY=-60,this.destroyed=!1}update(t){if(this.lifetime-=t,this.lifetime<=0){this.destroyed=!0;return}this.y+=this.velocityY*t,this.velocityY*=.98}draw(t){const i=this.lifetime/this.maxLifetime,s=.8+i*.4;t.save(),t.translate(this.x,this.y),t.scale(s,s),t.font='bold 20px "Segoe UI", sans-serif',t.textAlign="center",t.textBaseline="middle",t.shadowColor=this.color,t.shadowBlur=10,t.fillStyle=this.color.replace("1)",`${i})`),t.fillText(this.text,0,0),t.strokeStyle=`rgba(255, 255, 255, ${i*.8})`,t.lineWidth=1,t.strokeText(this.text,0,0),t.restore()}}class E{constructor(){this.particles=[],this.floatingTexts=[]}update(t){for(let i=this.particles.length-1;i>=0;i--)this.particles[i].update(t),this.particles[i].destroyed&&this.particles.splice(i,1);for(let i=this.floatingTexts.length-1;i>=0;i--)this.floatingTexts[i].update(t),this.floatingTexts[i].destroyed&&this.floatingTexts.splice(i,1)}draw(t){for(const i of this.particles)i.draw(t);for(const i of this.floatingTexts)i.draw(t)}createExplosion(t,i,s,e=20,h=200,o=5){const r=["rgba(255, 200, 100, 1)","rgba(255, 150, 50, 1)","rgba(255, 100, 30, 1)",s];for(let c=0;c<e;c++){const n=a(0,Math.PI*2),f=a(h*.3,h),d=a(o*.5,o*1.5),u=a(.3,.8),g=y(r);this.particles.push(new p(t,i,g,d,f,n,u))}}createAsteroidExplosion(t,i,s,e){const h=Math.floor(s*1.5),o=s*3,r=s*.15,c=["rgba(107, 112, 92, 1)","rgba(139, 139, 115, 1)","rgba(165, 165, 141, 1)",e];for(let n=0;n<h;n++){const f=a(0,Math.PI*2),d=a(o*.3,o),u=a(r*.5,r*2),g=a(.5,1.2),M=y(c);this.particles.push(new p(t,i,M,u,d,f,g))}for(let n=0;n<h/2;n++){const f=a(0,Math.PI*2),d=a(o*.5,o*1.5),u=a(2,4),g=a(.2,.5);this.particles.push(new p(t,i,"rgba(255, 220, 150, 1)",u,d,f,g))}}createDamageEffect(t,i){const s=["rgba(255, 100, 100, 1)","rgba(255, 150, 100, 1)","rgba(255, 200, 150, 1)"];for(let e=0;e<15;e++){const h=a(0,Math.PI*2),o=a(100,250),r=a(3,8),c=a(.3,.6),n=y(s);this.particles.push(new p(t,i,n,r,o,h,c))}}createThrustParticle(t,i,s){const e=a(-.3,.3),h=a(50,150),o=a(2,5),r=a(.1,.3),c=y(["rgba(255, 150, 50, 1)","rgba(255, 200, 100, 1)","rgba(255, 100, 30, 1)"]);this.particles.push(new p(t,i,c,o,h,s+Math.PI+e,r))}clear(){this.particles=[],this.floatingTexts=[]}createBonusCollectionEffect(t,i,s,e){this.floatingTexts.push(new L(t,i,s,e));const h=10;for(let o=0;o<h;o++){const r=a(0,Math.PI*2),c=a(80,150),n=a(3,6),f=a(.3,.6);this.particles.push(new p(t,i,e,n,c,r,f))}for(let o=0;o<5;o++){const r=a(0,Math.PI*2),c=a(50,100),n=a(4,8),f=a(.15,.3);this.particles.push(new p(t,i,"rgba(255, 255, 255, 1)",n,c,r,f))}}}const x={SCORE:{id:"score",color:"#f7c331",glowColor:"rgba(247, 195, 49, 0.5)",symbol:"★",label:"SCORE"},MULTISHOT:{id:"multishot",color:"#4ecdc4",glowColor:"rgba(78, 205, 196, 0.5)",symbol:"✦",label:"TRIPLE SHOT"}},R={XLARGE:.4,LARGE:.3,MEDIUM:.2,SMALL:.1};class O{constructor(t,i,s){this.x=t,this.y=i,this.type=s,this.config=x[s],this.size=16,this.radius=12,this.lifetime=5,this.maxLifetime=5,this.warningThreshold=2,this.bobOffset=0,this.bobSpeed=3,this.rotation=0,this.rotationSpeed=1.5,s==="SCORE"&&(this.scoreValue=Math.round(T(200,1e3)/50)*50),this.destroyed=!1}update(t){if(this.lifetime-=t,this.lifetime<=0){this.destroyed=!0;return}this.bobOffset=Math.sin(this.bobSpeed*(this.maxLifetime-this.lifetime)*Math.PI)*5,this.rotation+=this.rotationSpeed*t}draw(t){if(this.lifetime<this.warningThreshold&&Math.floor(this.lifetime*10)%2===0)return;t.save(),t.translate(this.x,this.y+this.bobOffset),t.shadowColor=this.config.color,t.shadowBlur=15,t.save(),t.rotate(this.rotation);const i=this.size;t.beginPath(),t.roundRect(-i/2,-i/2,i,i,3);const s=t.createLinearGradient(-i/2,-i/2,i/2,i/2);s.addColorStop(0,this.config.color),s.addColorStop(1,this.darkenColor(this.config.color,.6)),t.fillStyle=s,t.fill(),t.strokeStyle=this.darkenColor(this.config.color,.4),t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(-i/2+2,0),t.lineTo(i/2-2,0),t.strokeStyle=this.darkenColor(this.config.color,.5),t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(0,-i/2+2),t.lineTo(0,i/2-2),t.stroke(),t.restore(),t.shadowBlur=0,t.font='bold 12px "Segoe UI", sans-serif',t.textAlign="center",t.textBaseline="middle",t.fillStyle="#ffffff",t.fillText(this.config.symbol,0,0),t.restore()}darkenColor(t,i){const s=parseInt(t.slice(1,3),16),e=parseInt(t.slice(3,5),16),h=parseInt(t.slice(5,7),16),o=Math.floor(s*i),r=Math.floor(e*i),c=Math.floor(h*i);return`rgb(${o}, ${r}, ${c})`}}function Y(l){const t=R[l]||0;return Math.random()<t?Math.random()<.5?"SCORE":"MULTISHOT":null}class X{constructor(t){this.canvas=t,this.ctx=t.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize()),this.ship=null,this.asteroids=[],this.projectiles=[],this.bonuses=[],this.particles=new E,this.multiShotTimer=0,this.keys={},this.setupInput(),this.score=0,this.wave=0,this.gameState="title",this.waveTimer=0,this.wavePauseDuration=2,this.fireRate=8,this.fireCooldown=0,this.shakeAmount=0,this.shakeDuration=0,this.lastTime=0,this.gameLoop=this.gameLoop.bind(this),requestAnimationFrame(this.gameLoop)}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}setupInput(){window.addEventListener("keydown",t=>{this.keys[t.code]=!0,t.code==="Space"&&this.gameState==="title"&&this.startGame(),t.code==="Space"&&this.gameState==="gameOver"&&this.startGame(),["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.code)&&t.preventDefault()}),window.addEventListener("keyup",t=>{this.keys[t.code]=!1})}startGame(){this.score=0,this.wave=0,this.ship=new P(this.canvas.width/2,this.canvas.height/2),this.asteroids=[],this.projectiles=[],this.bonuses=[],this.particles.clear(),this.multiShotTimer=0,this.gameState="playing",this.startNextWave()}startNextWave(){this.wave++,this.asteroids=[];const t=2+this.wave;for(let i=0;i<t;i++){let s="LARGE";this.wave>=3&&Math.random()<.3&&(s="XLARGE"),this.asteroids.push(A(this.canvas.width,this.canvas.height,s))}this.gameState="playing"}shoot(){if(this.fireCooldown>0)return;const t=S(this.ship.angle),i=this.ship.x+Math.cos(t)*this.ship.radius,s=this.ship.y+Math.sin(t)*this.ship.radius;this.multiShotTimer>0?(this.projectiles.push(new m(i,s,this.ship.angle)),this.projectiles.push(new m(i,s,this.ship.angle-30)),this.projectiles.push(new m(i,s,this.ship.angle+30))):this.projectiles.push(new m(i,s,this.ship.angle)),this.fireCooldown=1/this.fireRate}addScreenShake(t,i){this.shakeAmount=Math.max(this.shakeAmount,t),this.shakeDuration=Math.max(this.shakeDuration,i)}update(t){if(this.gameState==="title"||this.gameState==="gameOver"){this.particles.update(t);return}if(this.gameState==="waveComplete"){this.waveTimer-=t,this.waveTimer<=0&&this.startNextWave(),this.particles.update(t);return}if(this.ship.update(t,this.keys,this.canvas.width,this.canvas.height),this.ship.isThrusting&&Math.random()<.5){const i=S(this.ship.angle),s=this.ship.x-Math.cos(i)*15,e=this.ship.y-Math.sin(i)*15;this.particles.createThrustParticle(s,e,i)}this.keys.Space&&this.shoot(),this.fireCooldown=Math.max(0,this.fireCooldown-t);for(let i=this.projectiles.length-1;i>=0;i--)this.projectiles[i].update(t,this.canvas.width,this.canvas.height),this.projectiles[i].destroyed&&this.projectiles.splice(i,1);for(const i of this.asteroids)i.update(t,this.canvas.width,this.canvas.height);for(let i=this.bonuses.length-1;i>=0;i--)this.bonuses[i].update(t),this.bonuses[i].destroyed&&this.bonuses.splice(i,1);this.multiShotTimer>0&&(this.multiShotTimer-=t),this.particles.update(t),this.shakeDuration>0&&(this.shakeDuration-=t,this.shakeDuration<=0&&(this.shakeAmount=0)),this.checkCollisions(),this.asteroids.length===0&&this.gameState==="playing"&&(this.gameState="waveComplete",this.waveTimer=this.wavePauseDuration,this.score+=this.wave*50),this.ship.health<=0&&(this.gameState="gameOver",this.particles.createExplosion(this.ship.x,this.ship.y,"rgba(78, 205, 196, 1)",50,300,8),this.addScreenShake(15,.5))}checkCollisions(){for(let t=this.projectiles.length-1;t>=0;t--){const i=this.projectiles[t];for(let s=this.asteroids.length-1;s>=0;s--){const e=this.asteroids[s];if(v(i.x,i.y,i.radius,e.x,e.y,e.radius)){if(i.destroyed=!0,this.particles.createExplosion(i.x,i.y,e.color.fill,5,100,3),e.hit()){this.score+=e.config.points,this.particles.createAsteroidExplosion(e.x,e.y,e.radius,`rgba(${parseInt(e.color.fill.slice(1,3),16)}, ${parseInt(e.color.fill.slice(3,5),16)}, ${parseInt(e.color.fill.slice(5,7),16)}, 1)`),this.addScreenShake(e.radius*.1,.2);const h=Y(e.sizeType);h&&this.bonuses.push(new O(e.x,e.y,h));const o=e.getFragments();this.asteroids.push(...o),this.asteroids.splice(s,1)}break}}}if(this.projectiles=this.projectiles.filter(t=>!t.destroyed),!this.ship.invulnerable){for(const t of this.asteroids)if(v(this.ship.x,this.ship.y,this.ship.radius,t.x,t.y,t.radius)){this.ship.takeDamage(t.config.damage)&&(this.particles.createDamageEffect(this.ship.x,this.ship.y),this.addScreenShake(10,.3));break}}for(let t=this.bonuses.length-1;t>=0;t--){const i=this.bonuses[t];v(this.ship.x,this.ship.y,this.ship.radius,i.x,i.y,i.radius)&&(this.collectBonus(i),this.bonuses.splice(t,1))}}collectBonus(t){if(t.config,t.type==="SCORE")this.score+=t.scoreValue,this.particles.createBonusCollectionEffect(t.x,t.y,`+${t.scoreValue}`,"rgba(247, 195, 49, 1)");else if(t.type==="MULTISHOT"){const i=this.multiShotTimer>0;this.multiShotTimer+=5;const s=i?"+5s":"TRIPLE SHOT!";this.particles.createBonusCollectionEffect(t.x,t.y,s,"rgba(78, 205, 196, 1)")}this.addScreenShake(3,.1)}draw(){const t=this.ctx;if(t.save(),this.shakeAmount>0){const i=(Math.random()-.5)*this.shakeAmount*2,s=(Math.random()-.5)*this.shakeAmount*2;t.translate(i,s)}if(this.drawBackground(),this.gameState!=="title"){this.particles.draw(t);for(const i of this.projectiles)i.draw(t);for(const i of this.asteroids)i.draw(t);for(const i of this.bonuses)i.draw(t);this.gameState!=="gameOver"&&this.ship.draw(t)}t.restore(),this.drawUI()}drawBackground(){const t=this.ctx,i=t.createLinearGradient(0,0,0,this.canvas.height);i.addColorStop(0,"#0a0a1a"),i.addColorStop(.5,"#0f1629"),i.addColorStop(1,"#0a0a1a"),t.fillStyle=i,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="rgba(255, 255, 255, 0.5)";const s=12345,e=Math.floor(this.canvas.width*this.canvas.height/5e3);for(let h=0;h<e;h++){const o=(s*(h+1)*9301+49297)%233280/233280*this.canvas.width,r=(s*(h+1)*7927+15485)%174720/174720*this.canvas.height,c=(s*(h+1)*3571+8837)%1e4/1e4*2+.5;t.beginPath(),t.arc(o,r,c,0,Math.PI*2),t.fill()}t.strokeStyle="rgba(78, 205, 196, 0.3)",t.lineWidth=2,t.strokeRect(10,10,this.canvas.width-20,this.canvas.height-20)}drawUI(){const t=this.ctx;if(this.gameState==="title"){this.drawTitleScreen();return}this.gameState==="gameOver"&&this.drawGameOverScreen(),this.gameState==="waveComplete"&&this.drawWaveCompleteMessage();const i=30,s=200,e=20,h=this.ship.health/this.ship.maxHealth;t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(i-2,i-2,s+4,e+4),t.fillStyle="#1a1a2e",t.fillRect(i,i,s,e);let o;if(h>.6?o="#4ecdc4":h>.3?o="#f7c331":o="#ff6b6b",t.fillStyle=o,t.fillRect(i,i,s*h,e),t.strokeStyle="#4ecdc4",t.lineWidth=2,t.strokeRect(i,i,s,e),t.fillStyle="#ffffff",t.font='bold 14px "Segoe UI", sans-serif',t.textAlign="center",t.fillText(`${Math.ceil(this.ship.health)} HP`,i+s/2,i+15),t.textAlign="right",t.font='bold 28px "Segoe UI", sans-serif',t.fillStyle="#4ecdc4",t.fillText(`${this.score}`,this.canvas.width-i,i+25),t.font='14px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.6)",t.fillText("SCORE",this.canvas.width-i,i+45),t.textAlign="center",t.font='bold 20px "Segoe UI", sans-serif',t.fillStyle="#f7c331",t.fillText(`WAVE ${this.wave}`,this.canvas.width/2,i+20),this.multiShotTimer>0){const n=i,f=i+e+15;t.textAlign="left",t.font='bold 12px "Segoe UI", sans-serif',t.fillStyle="#4ecdc4",t.fillText("TRIPLE SHOT",n,f-3),t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(n-1,f+2,122,10),t.fillStyle="#1a1a2e",t.fillRect(n,f+3,120,8);const d=Math.min(this.multiShotTimer/10,1);t.fillStyle="#4ecdc4",t.fillRect(n,f+3,120*d,8),t.strokeStyle="#4ecdc4",t.lineWidth=1,t.strokeRect(n,f+3,120,8),t.textAlign="right",t.font='10px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.7)",t.fillText(`${this.multiShotTimer.toFixed(1)}s`,n+120,f-3)}}drawTitleScreen(){const t=this.ctx,i=this.canvas.width/2,s=this.canvas.height/2;t.textAlign="center",t.font='bold 72px "Segoe UI", sans-serif',t.shadowColor="#4ecdc4",t.shadowBlur=30,t.fillStyle="#4ecdc4",t.fillText("ASTEROIDS",i,s-50),t.shadowBlur=0,t.font='24px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.7)",t.fillText("Modern Edition",i,s),t.font='18px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.5)",t.fillText("Press SPACE to start",i,s+80),t.font='14px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.4)",t.fillText("A/D or ←/→ to rotate  •  W or ↑ to thrust  •  SPACE to shoot",i,s+150)}drawGameOverScreen(){const t=this.ctx,i=this.canvas.width/2,s=this.canvas.height/2;t.fillStyle="rgba(0, 0, 0, 0.7)",t.fillRect(0,0,this.canvas.width,this.canvas.height),t.textAlign="center",t.font='bold 64px "Segoe UI", sans-serif',t.shadowColor="#ff6b6b",t.shadowBlur=20,t.fillStyle="#ff6b6b",t.fillText("GAME OVER",i,s-40),t.shadowBlur=0,t.font='bold 32px "Segoe UI", sans-serif',t.fillStyle="#4ecdc4",t.fillText(`Final Score: ${this.score}`,i,s+20),t.font='24px "Segoe UI", sans-serif',t.fillStyle="#f7c331",t.fillText(`Wave Reached: ${this.wave}`,i,s+60),t.font='18px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.5)",t.fillText("Press SPACE to play again",i,s+120)}drawWaveCompleteMessage(){const t=this.ctx,i=this.canvas.width/2,s=this.canvas.height/2;t.textAlign="center",t.font='bold 48px "Segoe UI", sans-serif',t.shadowColor="#f7c331",t.shadowBlur=20,t.fillStyle="#f7c331",t.fillText(`WAVE ${this.wave} COMPLETE!`,i,s),t.shadowBlur=0,t.font='24px "Segoe UI", sans-serif',t.fillStyle="rgba(255, 255, 255, 0.7)",t.fillText(`Wave Bonus: +${this.wave*50}`,i,s+40)}gameLoop(t){const i=Math.min((t-this.lastTime)/1e3,.1);this.lastTime=t,this.update(i),this.draw(),requestAnimationFrame(this.gameLoop)}}window.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("gameCanvas"),t=document.getElementById("loading");new X(l),setTimeout(()=>{t.classList.add("hidden")},500)});
//# sourceMappingURL=index-31os6MQw.js.map
